<html>

<head>
 <title>John Mills</title>
 <meta charset="utf-8">
 <meta name="viewport" content="width=device-width">
 <link rel="stylesheet" href="https://iamjohnmills.github.io/journal/assets/site.css" />
 <script src="https://iamjohnmills.github.io/journal/assets/site.js"></script>
</head>

<body>
 <header>
  <div data-toggle-nav="true">
   <svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path fill="#33363F" d="m4 10-.707.707L2.586 10l.707-.707L4 10Zm17 8a1 1 0 1 1-2 0h2ZM8.293 15.707l-5-5 1.414-1.414 5 5-1.414 1.414Zm-5-6.414 5-5 1.414 1.414-5 5-1.414-1.414ZM4 9h10v2H4V9Zm17 7v2h-2v-2h2Zm-7-7a7 7 0 0 1 7 7h-2a5 5 0 0 0-5-5V9Z" />
   </svg> More Articles
  </div>
  <a class="button" href="https://iamjohnmills.github.io/journal/johnmills.rss">
   <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 100 100" xml:space="preserve">
    <path d="M26.258 64.949a8.78 8.78 0 0 0-8.78 8.784 8.782 8.782 0 1 0 17.564 0 8.78 8.78 0 0 0-8.784-8.784z" />
    <path d="M23.536 40.801c-.046 0-.09.006-.135.007v-.007h-3.464v.039a3.437 3.437 0 0 0-3.056 3.344h-.007v6.159h.041a3.43 3.43 0 0 0 3.021 3.002v.039H23.4v-.048c.045.001.09.007.135.007 12.772 0 23.173 10.321 23.311 23.061h-.033v3.464h.039a3.437 3.437 0 0 0 3.344 3.056v.007h6.158v-.041a3.43 3.43 0 0 0 3.002-3.021h.039v-3.464h-.006c-.137-19.657-16.166-35.604-35.853-35.604z" />
    <path d="M83.119 76.403C82.98 43.664 56.308 17.07 23.536 17.07c-.046 0-.09.006-.135.007v-.007h-3.464v.039a3.437 3.437 0 0 0-3.056 3.344h-.007v6.159h.041a3.429 3.429 0 0 0 3.021 3.002v.039H23.4v-.048c.045.001.09.007.135.007 25.857 0 46.902 20.967 47.041 46.792h-.035v3.464h.039a3.437 3.437 0 0 0 3.344 3.056v.007h6.159v-.041a3.43 3.43 0 0 0 3.002-3.021h.039v-3.464h-.005z" />
   </svg> RSS </a>
 </header>
 <main>
  <nav>
   <span>I mostly post minimal experiments, tips, and tricks. Keep up-to-date with me and subscribe to my <a href="https://iamjohnmills.github.io/journal/johnmills.rss" target="_blank">RSS Feed</a></span>
   <a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;d3-orthographic-image&#x2F;">Orthographic Image Projection with D3</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;animated-nav-icon&#x2F;">Animated Nav Menu</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;vector-earth&#x2F;">Vector Earth 3D</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;giftv&#x2F;">GifTV</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;shaders&#x2F;">WebGL shaders</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;n64&#x2F;">Spinning N64 logo</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;chat-bubbles&#x2F;">Chat bubbles</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;canvas-video&#x2F;">Video to canvas</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;90s-shapes&#x2F;">90s abstract shapes</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;equalizer&#x2F;">Animated equalizer</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;synthwave-highway&#x2F;">Synthwave highway</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;plasma&#x2F;">Plasma</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;matrix&#x2F;">Matrix</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;cursor-follow&#x2F;">Follow mouse cursor</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;game-of-life&#x2F;">Game of life</a><a href="https:&#x2F;&#x2F;iamjohnmills.github.io&#x2F;journal&#x2F;create-node&#x2F;">My one-function JS framework</a>
  </nav>
  <section>
   <p>Jan 2023</p>
   <h1>Follow mouse cursor</h1>
   <p>Here's how to use Javascript to follow mouse and touch movements. In this example, I simulate a little fish following the movement of the cursor.</p>
   <pre data-code="%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20maximum-scale%3D1.0%2C%20user-scalable%3Dno%22%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22utf-8%22%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20*%20%7B%20cursor%3A%20none%3B%20%7D%0A%20%20%20%20%20%20html%2C%20body%20%7B%20height%3A%20100%25%3B%20margin%3A%200%3B%20%20overflow%3A%20hidden%3B%20%7D%0A%20%20%20%20%20%20%23root%20%7B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20background%3A%20blue%3B%20overflow%3A%20hidden%3B%20position%3A%20relative%3B%7D%0A%20%20%20%20%20%20.cursor%20%7B%20background-repeat%3A%20no-repeat%3B%20z-index%3A%201%3B%20transform-origin%3A%20100%25%2050%25%3B%20position%3A%20absolute%3B%20background-size%3A%20100%25%3B%20color%3A%20%23fff%3B%20margin-left%3A%20-100px%3B%20margin-top%3A%20-25px%3B%20width%3A%20100px%3B%20height%3A%2050px%3B%20%7D%0A%20%20%20%20%3C%2Fstyle%3E%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20const%20createNode%20%3D%20(options)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20node%20%3D%20document.createElement(options.tag)%3B%0A%20%20%20%20%20%20%20%20if(options.className)%20node.setAttribute('class'%2Coptions.className)%3B%0A%20%20%20%20%20%20%20%20if(options.innerHTML)%20node.innerHTML%20%3D%20options.innerHTML%3B%0A%20%20%20%20%20%20%20%20if(options.attributes)%20Object.keys(options.attributes).forEach(key%20%3D%3E%20node.setAttribute(key%2Coptions.attributes%5Bkey%5D)%20)%3B%0A%20%20%20%20%20%20%20%20if(options.style)%20Object.keys(options.style).forEach(key%20%3D%3E%20node.style%5Bkey%5D%20%3D%20options.style%5Bkey%5D)%3B%0A%20%20%20%20%20%20%20%20if(options.event_listeners)%20Object.keys(options.event_listeners).forEach(key%20%3D%3E%20node.addEventListener(key%2Coptions.event_listeners%5Bkey%5D)%20)%0A%20%20%20%20%20%20%20%20options.root.appendChild(node)%3B%0A%20%20%20%20%20%20%20%20return%20node%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20class%20App%20%7B%0A%20%20%20%20%20%20%20%20constructor()%7B%0A%20%20%20%20%20%20%20%20%20%20document.addEventListener('DOMContentLoaded'%2Cthis.handleReady.bind(this))%3B%0A%20%20%20%20%20%20%20%20%20%20document.addEventListener('mousemove'%2Cthis.handleMouseMove.bind(this))%3B%0A%20%20%20%20%20%20%20%20%20%20document.addEventListener('touchmove'%2Cthis.handleMouseMove.bind(this))%3B%0A%20%20%20%20%20%20%20%20%20%20this.els%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20handleReady()%7B%0A%20%20%20%20%20%20%20%20%20%20this.root%20%3D%20document.getElementById('root')%3B%0A%20%20%20%20%20%20%20%20%20%20this.root.innerHTML%20%3D%20%60%60%3B%0A%20%20%20%20%20%20%20%20%20%20this.els.cursor%20%3D%20createNode(%7B%20root%3A%20this.root%2C%20tag%3A%20'div'%2C%20className%3A%20%60cursor%60%2C%20style%3A%20%7B%20left%3A%20%60%24%7Bwindow.innerWidth%20%2F%202%7Dpx%60%2C%20top%3A%20%60%24%7Bwindow.innerHeight%20%2F%202%7Dpx%60%20%7D%2C%20innerHTML%3A%20%60%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20width%3D%22150%22%20height%3D%2250%22%20viewBox%3D%220%20-32%20576%20576%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M576%20288c0-31.894-114.615-160-256-160-76.301%200-161.099%2053.098-208%2096-21.333-21.167-68.5-56-80-64-10.513-7.313-32%201.5-32%2016%200%2011.6%2021.333%2079.5%2032%20112C21.333%20320.5%200%20388.4%200%20400c0%2014.5%2021.487%2023.313%2032%2016%2011.5-8%2058.667-42.833%2080-64%2046.901%2042.902%20131.699%2096%20208%2096%20141.385%200%20256-128.106%20256-160Zm-96-32c0%2035.346-28.654%2064-64%2064-35.346%200-64-28.654-64-64%200-35.346%2028.654-64%2064-64%2035.346%200%2064%2028.654%2064%2064Zm-64%2032c-17.673%200-32-14.327-32-32%200-17.673%2014.327-32%2032-32%2017.673%200%2032%2014.327%2032%2032%200%2017.673-14.327%2032-32%2032Z%22%2F%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%60%20%7D)%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20handleMouseMove(event)%7B%0A%20%20%20%20%20%20%20%20%20%20let%20x%20%3D%20!!event.touches%20%3F%20event.touches%5B0%5D.clientX%20%3A%20event.clientX%3B%0A%20%20%20%20%20%20%20%20%20%20let%20y%20%3D%20!!event.touches%20%3F%20event.touches%5B0%5D.clientY%20%3A%20event.clientY%3B%0A%20%20%20%20%20%20%20%20%20%20const%20rect%20%3D%20this.els.cursor.getBoundingClientRect()%3B%0A%20%20%20%20%20%20%20%20%20%20const%20origin_x%20%3D%20rect.left%20%2B%20(rect.width%20%2F%202)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20origin_y%20%3D%20rect.top%20%2B%20(rect.height%20%2F%202)%3B%0A%20%20%20%20%20%20%20%20%20%20let%20angle%20%3D%20Math.atan2(y%20-%20origin_y%2C%20x%20-%20origin_x)%3B%0A%20%20%20%20%20%20%20%20%20%20angle%20*%3D%20180%20%2F%20Math.PI%3B%0A%20%20%20%20%20%20%20%20%20%20const%20scaleX%20%3D%20Math.abs(angle)%20%3E%3D%2090%20%3F%20-1%20%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20angle%20%3D%20scaleX%20%3D%3D%3D%201%20%3F%20angle%20%3A%20(angle%20%2B%20180)%20%25%20360%3B%0A%20%20%20%20%20%20%20%20%20%20this.els.cursor.style.left%20%3D%20%60%24%7Bx%7Dpx%60%3B%0A%20%20%20%20%20%20%20%20%20%20this.els.cursor.style.top%20%3D%20%60%24%7By%7Dpx%60%3B%0A%20%20%20%20%20%20%20%20%20%20this.els.cursor.style.transform%20%3D%20%60rotate(%24%7Bangle%7Ddeg)%20scaleX(%24%7BscaleX%7D)%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20app%20%3D%20new%20App()%3B%0A%20%20%20%20%3C%2Fscript%3E%0A%20%20%3C%2Fhead%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cdiv%20id%3D%22root%22%3E%3C%2Fdiv%3E%0A%20%20%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A"><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">
      * { <span class="hljs-attribute">cursor</span>: none; }
      <span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;  <span class="hljs-attribute">overflow</span>: hidden; }
      <span class="hljs-selector-id">#root</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">background</span>: blue; <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-attribute">position</span>: relative;}
      <span class="hljs-selector-class">.cursor</span> { <span class="hljs-attribute">background-repeat</span>: no-repeat; <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>; <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">100%</span> <span class="hljs-number">50%</span>; <span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">background-size</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>; <span class="hljs-attribute">margin-left</span>: -<span class="hljs-number">100px</span>; <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">25px</span>; <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">createNode</span> = (<span class="hljs-params">options</span>) =&gt; {
        <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(options.<span class="hljs-property">tag</span>);
        <span class="hljs-keyword">if</span>(options.<span class="hljs-property">className</span>) node.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;class&#x27;</span>,options.<span class="hljs-property">className</span>);
        <span class="hljs-keyword">if</span>(options.<span class="hljs-property">innerHTML</span>) node.<span class="hljs-property">innerHTML</span> = options.<span class="hljs-property">innerHTML</span>;
        <span class="hljs-keyword">if</span>(options.<span class="hljs-property">attributes</span>) <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(options.<span class="hljs-property">attributes</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> node.<span class="hljs-title function_">setAttribute</span>(key,options.<span class="hljs-property">attributes</span>[key]) );
        <span class="hljs-keyword">if</span>(options.<span class="hljs-property">style</span>) <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(options.<span class="hljs-property">style</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> node.<span class="hljs-property">style</span>[key] = options.<span class="hljs-property">style</span>[key]);
        <span class="hljs-keyword">if</span>(options.<span class="hljs-property">event_listeners</span>) <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(options.<span class="hljs-property">event_listeners</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> node.<span class="hljs-title function_">addEventListener</span>(key,options.<span class="hljs-property">event_listeners</span>[key]) )
        options.<span class="hljs-property">root</span>.<span class="hljs-title function_">appendChild</span>(node);
        <span class="hljs-keyword">return</span> node;
      }
      <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
        <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>){
          <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleReady</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
          <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mousemove&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleMouseMove</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
          <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;touchmove&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleMouseMove</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">els</span> = {};
        }
        <span class="hljs-title function_">handleReady</span>(<span class="hljs-params"></span>){
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">root</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>);
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">root</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">``</span>;
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">els</span>.<span class="hljs-property">cursor</span> = <span class="hljs-title function_">createNode</span>({ <span class="hljs-attr">root</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">root</span>, <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;div&#x27;</span>, <span class="hljs-attr">className</span>: <span class="hljs-string">`cursor`</span>, <span class="hljs-attr">style</span>: { <span class="hljs-attr">left</span>: <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">window</span>.innerWidth / <span class="hljs-number">2</span>}</span>px`</span>, <span class="hljs-attr">top</span>: <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">window</span>.innerHeight / <span class="hljs-number">2</span>}</span>px`</span> }, <span class="hljs-attr">innerHTML</span>: <span class="hljs-string">`
          &lt;svg width=&quot;150&quot; height=&quot;50&quot; viewBox=&quot;0 -32 576 576&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
            &lt;path fill=&quot;currentColor&quot; d=&quot;M576 288c0-31.894-114.615-160-256-160-76.301 0-161.099 53.098-208 96-21.333-21.167-68.5-56-80-64-10.513-7.313-32 1.5-32 16 0 11.6 21.333 79.5 32 112C21.333 320.5 0 388.4 0 400c0 14.5 21.487 23.313 32 16 11.5-8 58.667-42.833 80-64 46.901 42.902 131.699 96 208 96 141.385 0 256-128.106 256-160Zm-96-32c0 35.346-28.654 64-64 64-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64 35.346 0 64 28.654 64 64Zm-64 32c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32Z&quot;/&gt;
          &lt;/svg&gt;
          `</span> })
        }
        <span class="hljs-title function_">handleMouseMove</span>(<span class="hljs-params">event</span>){
          <span class="hljs-keyword">let</span> x = !!event.<span class="hljs-property">touches</span> ? event.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientX</span> : event.<span class="hljs-property">clientX</span>;
          <span class="hljs-keyword">let</span> y = !!event.<span class="hljs-property">touches</span> ? event.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientY</span> : event.<span class="hljs-property">clientY</span>;
          <span class="hljs-keyword">const</span> rect = <span class="hljs-variable language_">this</span>.<span class="hljs-property">els</span>.<span class="hljs-property">cursor</span>.<span class="hljs-title function_">getBoundingClientRect</span>();
          <span class="hljs-keyword">const</span> origin_x = rect.<span class="hljs-property">left</span> + (rect.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>);
          <span class="hljs-keyword">const</span> origin_y = rect.<span class="hljs-property">top</span> + (rect.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>);
          <span class="hljs-keyword">let</span> angle = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">atan2</span>(y - origin_y, x - origin_x);
          angle *= <span class="hljs-number">180</span> / <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>;
          <span class="hljs-keyword">const</span> scaleX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(angle) &gt;= <span class="hljs-number">90</span> ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>;
          angle = scaleX === <span class="hljs-number">1</span> ? angle : (angle + <span class="hljs-number">180</span>) % <span class="hljs-number">360</span>;
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">els</span>.<span class="hljs-property">cursor</span>.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">`<span class="hljs-subst">${x}</span>px`</span>;
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">els</span>.<span class="hljs-property">cursor</span>.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">`<span class="hljs-subst">${y}</span>px`</span>;
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">els</span>.<span class="hljs-property">cursor</span>.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`rotate(<span class="hljs-subst">${angle}</span>deg) scaleX(<span class="hljs-subst">${scaleX}</span>)`</span>;
        }
      }
      <span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">App</span>();
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
   <p>In the CSS, I set the current cursor to none, and define the default attributes. The values here ensure that the 'front' of the shape is at the cursor point, otherwise it would be centered over the mouse x and y position.</p>
   <p>I use Javascript on the mousemove and touchmove events to determine the x and y position of the mouse (or touch position on mobile). I then apply a calculated value for the rotation of the cursor shape and determine which direction it should be facing.</p>
   <p><em>I have a more complete example at <a href="https://github.com/iamjohnmills/ocean">github.com/iamjohnmills/ocean</a> with more fish, background turbulence, and a cool blue whale.</em></p>
   <aside>
    <figure>
     <img src="https://iamjohnmills.github.io/journal/assets/jm-photo-2023.jpg" />
    </figure>
    <p>I'm John Mills, a professional frontend engineer. Here I share my experiences and journeys with all of you. Check out all my projects on <a href="https://github.com/iamjohnmills" target="_blank">Github</a>. Message or connect with me on <a href="https://www.linkedin.com/in/iamjohnmills" target="_blank">LinkedIn</a>. I'm a proud dad of my two daughters, cook sometimes, and am interested in a ton of weird stuff.</p>
   </aside>
  </section>
 </main>
</body>

</html>